{"version":3,"sources":["main.js"],"names":["siteList","$","lastLi","find","save","window","localStorage","getItem","saveObject","undefined","JSON","parse","hashMap","logo","url","name","simplifyUrl","replace","render","string","stringify","setItem","remove","forEach","node","index","$li","insertBefore","on","open","e","c","confirm","stopPropagation","splice","r","prompt","k","toUpperCase","a","b","d","timeStamp","targetTouches","changedTouches","clientX","clientY","push","document","querySelectorAll","className"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["const siteList = $(\".siteList\");\nconst lastLi = siteList.find('li.last');\nconst save = window.localStorage.getItem(\"save\");\nlet saveObject\nif(save !== undefined){\n    saveObject = JSON.parse(save);\n}\nlet hashMap = saveObject || [\n    {logo : \"A\", url : 'https://www.acfun.cn/',name:null},\n    {logo : \"B\", url : 'https://www.bilibili.com/',name:null},\n    {logo : \"E\", url : 'https://www.edmodo.com/',name:null},\n    {logo : \"B\", url : 'https://www.baidu.com/',name:null},\n    {logo : \"F\", url : 'https://www.facebook.com/',name:null},\n    {logo : \"G\", url : 'https://www.google.com/',name:null}\n]\n\n\nlet simplifyUrl = (url)=>{\n     return url.replace('https://', '').replace('http://', '').replace('www.', '').replace(/\\/.*/, '')\n}\n\nconst render=()=>{\n        const string = JSON.stringify(hashMap);\n    window.localStorage.setItem(\"save\", string);\n    siteList.find('li:not(.last)').remove();\n    hashMap.forEach((node, index)=>{\n        const $li = $(\n            `\n                <li onselectstart=\"return false;\" unselectable=\"on\">\n                    <div class=\"logo\">${node.logo}</div>\n                    <svg class=\"edit\">\n                        <use xlink:href=\"#icon-edit\"></use>\n                    </svg>\n                    <p class=\"site\">${node.name}</p>\n                </li>\n            `\n        ).insertBefore(lastLi);\n        $li.on('click',()=>{\n            window.open(node.url)\n        })\n        $li.on('click','.edit',(e)=>{\n            let c = confirm(\"是否删除该网页？点取消则进入网址编辑\")\n            if(c){\n                e.stopPropagation();\n                hashMap.splice(index, 1);\n            }else{\n                let r = prompt('请问网址名要修改成？', node.name);\n                let k = prompt('请问网址要修改成？', node.url);\n                if( r !== null){\n                    node.name = r;\n                    node.logo =simplifyUrl(k)[0].toUpperCase(),\n                    node.url = k;\n                    \n                }\n                e.stopPropagation();\n            }\n            render();\n        })\n        let a,b,c,d;\n        $li.on('touchstart',(e)=>{\n            a = e.timeStamp\n           c=e.targetTouches[0]\n        })\n        $li.on('touchend',(e)=>{\n            b = e.timeStamp \n            d=e.changedTouches[0]\n            if(c.clientX ===d.clientX &&c.clientY ===d.clientY){\n            if((b-a) > 300){\n                    let c = confirm(\"是否删除该网页？点取消则进入网址编辑\")\n                    if(c){\n                        e.stopPropagation();\n                        hashMap.splice(index, 1);\n                    }else{\n                        let r = prompt('请问网址名要修改成？', node.name);\n                        let k = prompt('请问网址名要修改成？', node.url);\n                        if( r !== null){\n                            \n                            node.url = k;\n                            node.logo =simplifyUrl(k)[0].toUpperCase(),\n                            node.name = r;\n                        }\n                        e.stopPropagation();\n                    }\n                    render();\n            }\n        }\n        })\n    })\n}\nrender();\n$('.last').on('click',()=>{\n    let name = prompt('请问你要添加的网址名是？')\n    let url = prompt('请问你要添加的网址是？(请以HTTP或者HTTPS开头)')\n    if(url===null){\n        return\n    }\n    hashMap.push({\n        logo: simplifyUrl(url)[0].toUpperCase(),\n        name : name,\n        url : url\n    })\n    render();\n})\n$('input').on('focus',()=>{\n        document.querySelectorAll('input')[0].className='change';\n})\n$('input').on('blur',()=>{\n\n        document.querySelectorAll('input')[0].className='type';\n})\n\n\n// window.onbeforeunload = ()=>{\n//     const string = JSON.stringify(hashMap);\n//     window.localStorage.setItem(\"save\", string);\n\n// }\n\n// $(document).on('keypress',(e)=>{\n//     const key=e.key;\n//     for(let i=0;i<hashMap.length;i++){\n//         if(hashMap[i].logo.toLowerCase() === key){\n//             window.open(hashMap[i].url)\n//         }\n//     }\n// })\n\n"]}